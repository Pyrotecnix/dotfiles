## Basics
unbind C-b                             # free the prefix C-b
set -g prefix C-a                      # set it to c-a instead (GNU Screen default)
bind C-a send-prefix                   # Ensure that we can send Ctrl-A to other apps
set -sg escape-time 1                  # Setting the delay between prefix and command
set -g base-index 1                    # Set the base index for windows to 1 instead of 0
set-window-option -g pane-base-index 1 # Set the base index for panes to 1 instead of 0

## Bindings
# Moving between panes, Vim Style
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Pane resizing
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Creating and killing panes, Vim Style
unbind-key %
unbind-key '"'
unbind-key x
bind s split-window -h
bind v split-window -v
bind q confirm killp

# Log output to a text file
# Stolen from @railsbros-dirk
bind P pipe-pane -o "cat >>~/#W.log" \; display "Toggled logging to ~/#W.log"

# Get a quick overview via htop
# Stolen from @railsbros-dirk
bind '~' split-window "htop"

# Reload the configuration file with `Prefix r`
bind r source-file ~/.tmux.conf \; display "Reloaded!"

## Vim-like Copy Mode
# Stolen from @railsbros-dirk
# 1) Ctrl+b, [ to enter the copy mode
# 2) v to start the selection
# 3) y to capture the string and leave the copy mode
# 4) Ctrl+b, p to paste the text
# Move as in vim
setw -g mode-keys vi
unbind p
bind-key p run-shell "tmux save-buffer - | reattach-to-user-namespace pbcopy; tmux paste-buffer"
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-selection
bind-key -t vi-copy b rectangle-toggle

## Colors and Theme
# Set the default terminal mode to 256color mode
set -g default-terminal "screen-256color"

# Status line
set -g status-fg white
set -g status-bg black

# Window list
setw -g window-status-fg cyan
setw -g window-status-bg default
setw -g window-status-attr dim

# Active window
setw -g window-status-current-fg white
setw -g window-status-current-bg red
setw -g window-status-current-attr bright

# Pane
# Set Foreground = Background, so there are no annoying "lines"
set -g pane-border-fg black
set -g pane-border-bg black
set -g pane-active-border-fg yellow
set -g pane-active-border-bg yellow

# Command / message line
set -g message-fg white
set -g message-bg black
set -g message-attr bright

## Status line
# Activate UTF-8
set -g status-utf8 on
# Update the status bar every sixty seconds
set -g status-interval 60

### Left side
# `Ashikawa-Core`
set -g status-left "#S"
set -g status-left-length 40

### Center
# Center the window list
set -g status-justify centre
# Enable activity alerts for other windows
setw -g monitor-activity on
set -g visual-activity on

### Right side
# `28 Nov 18:15`
set -g status-right "%d %b %R"
